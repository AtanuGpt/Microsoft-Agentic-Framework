from agent_framework.azure import AzureOpenAIChatClient
from azure.identity import AzureCliCredential
from agent_framework.observability import setup_observability
#Dev UI
from agent_framework.devui import serve
#Agentsuv
from maf_agent_jee_exam_helper import ask_exam_question
from maf_agent_tripadvisor_helper import ask_tripadvisor_question
from maf_agent_weather_helper import weather_helper
from maf_agent_crypto_mcp_server import coingecko_crypto_mcp_server
from maf_agent_mslearn_mcp_server import ms_learn_mcp_server

setup_observability()

def main():
    print("ðŸ”§ Orchestrator running...\n")

    main_agent = AzureOpenAIChatClient(credential=AzureCliCredential()).create_agent(
        name="HelpfulAiFoundryAssistantAgent",
        instructions="You are an orchestrator agent â€” never answer questions directly and always choose and invoke the most appropriate tool " +
                    "provided to fulfill the user's request. Most Important: Never search internet for answer. If no matching tool found then " +
                    "politely say the user that answer not found and ask to rephrase the question.",
        tools=[ask_exam_question, weather_helper, ask_tripadvisor_question, coingecko_crypto_mcp_server, ms_learn_mcp_server]
    )

    serve(entities=[main_agent], auto_open=True, tracing_enabled=True, port=8090)

if __name__ == "__main__":
    main()
