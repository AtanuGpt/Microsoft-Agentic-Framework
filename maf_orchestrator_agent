from agent_framework.azure import AzureOpenAIChatClient
from azure.identity import AzureCliCredential
from agent_framework.observability import setup_observability
#Dev UI
from agent_framework.devui import serve
#Agents
from maf_jee_exam_helper_agent import ask_exam_question
from maf_tripadvisor_helper_agent import ask_tripadvisor_question
from maf__weather_agent import weather_helper

setup_observability()

def main():
    print("ðŸ”§ Orchestrator running...\n")

    main_agent = AzureOpenAIChatClient(credential=AzureCliCredential()).create_agent(
        name="HelpfulAiFoundryAssistantAgent",
        instructions="You are an orchestrator agent â€” never answer questions directly and always choose and invoke the most appropriate tool " +
                    "provided to fulfill the user's request. Most Importat: Never search internet for answer. If no matching tool found then " +
                    "polite say the user that answer not found and ask to rephrase the question.",
        tools=[ask_exam_question, weather_helper, ask_tripadvisor_question]
    )

    serve(entities=[main_agent], auto_open=True, tracing_enabled=True, port=8090)

if __name__ == "__main__":
    main()
